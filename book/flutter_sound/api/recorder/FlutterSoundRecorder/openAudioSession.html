<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="API docs for the openAudioSession method from the FlutterSoundRecorder class, for the Dart programming language.">
  <title>openAudioSession method - FlutterSoundRecorder class - recorder library - Dart API</title>

  
  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500,400i,400,300|Source+Sans+Pro:400,300,700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="../../static-assets/github.css">
  <link rel="stylesheet" href="../../static-assets/styles.css">
  <link rel="icon" href="../../static-assets/favicon.png">

</head>

<body data-base-href="../../"
      data-using-base-href="false">

<div id="overlay-under-drawer"></div>

<header id="title">
  <button id="sidenav-left-toggle" type="button">&nbsp;</button>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="../../index.html">flutter_sound</a></li>
    <li><a href="../../recorder/recorder-library.html">recorder</a></li>
    <li><a href="../../recorder/FlutterSoundRecorder-class.html">FlutterSoundRecorder</a></li>
    <li class="self-crumb">openAudioSession method</li>
  </ol>
  <div class="self-name">openAudioSession</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>

<main>

  <div id="dartdoc-sidebar-left" class="col-xs-6 col-sm-3 col-md-2 sidebar sidebar-offcanvas-left">
    <header id="header-search-sidebar" class="hidden-l">
      <form class="search-sidebar" role="search">
        <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
      </form>
    </header>
    
    <ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
      <li><a href="../../index.html">flutter_sound</a></li>
      <li><a href="../../recorder/recorder-library.html">recorder</a></li>
      <li><a href="../../recorder/FlutterSoundRecorder-class.html">FlutterSoundRecorder</a></li>
      <li class="self-crumb">openAudioSession method</li>
    </ol>
    
    <h5>FlutterSoundRecorder class</h5>
    <ol>
    
        <li class="section-title"><a href="../../recorder/FlutterSoundRecorder-class.html#constructors">Constructors</a></li>
        <li><a href="../../recorder/FlutterSoundRecorder/FlutterSoundRecorder.html">FlutterSoundRecorder</a></li>
    
        <li class="section-title">
            <a href="../../recorder/FlutterSoundRecorder-class.html#instance-properties">Properties</a>
        </li>
        <li class="inherited"><a href="https://api.flutter.dev/flutter/dart-core/Object/hashCode.html">hashCode</a></li>
        <li><a href="../../recorder/FlutterSoundRecorder/isPaused.html">isPaused</a></li>
        <li><a href="../../recorder/FlutterSoundRecorder/isRecording.html">isRecording</a></li>
        <li><a href="../../recorder/FlutterSoundRecorder/isStopped.html">isStopped</a></li>
        <li><a href="../../recorder/FlutterSoundRecorder/onProgress.html">onProgress</a></li>
        <li class="inherited"><a href="https://api.flutter.dev/flutter/dart-core/Object/runtimeType.html">runtimeType</a></li>
    
        <li class="section-title"><a href="../../recorder/FlutterSoundRecorder-class.html#instance-methods">Methods</a></li>
        <li><a href="../../recorder/FlutterSoundRecorder/closeAudioSession.html">closeAudioSession</a></li>
        <li><a href="../../recorder/FlutterSoundRecorder/isEncoderSupported.html">isEncoderSupported</a></li>
        <li class="inherited"><a href="https://api.flutter.dev/flutter/dart-core/Object/noSuchMethod.html">noSuchMethod</a></li>
        <li><a href="../../recorder/FlutterSoundRecorder/openAudioSession.html">openAudioSession</a></li>
        <li><a href="../../recorder/FlutterSoundRecorder/pauseRecorder.html">pauseRecorder</a></li>
        <li><a href="../../recorder/FlutterSoundRecorder/resumeRecorder.html">resumeRecorder</a></li>
        <li><a href="../../recorder/FlutterSoundRecorder/setAudioFocus.html">setAudioFocus</a></li>
        <li><a href="../../recorder/FlutterSoundRecorder/setSubscriptionDuration.html">setSubscriptionDuration</a></li>
        <li><a href="../../recorder/FlutterSoundRecorder/startRecorder.html">startRecorder</a></li>
        <li><a href="../../recorder/FlutterSoundRecorder/stopRecorder.html">stopRecorder</a></li>
        <li class="inherited"><a href="https://api.flutter.dev/flutter/dart-core/Object/toString.html">toString</a></li>
    
        <li class="section-title inherited"><a href="../../recorder/FlutterSoundRecorder-class.html#operators">Operators</a></li>
        <li class="inherited"><a href="https://api.flutter.dev/flutter/dart-core/Object/operator_equals.html">operator ==</a></li>
    
    
    
    
    
    </ol>
  </div><!--/.sidebar-offcanvas-->

  <div id="dartdoc-main-content" class="col-xs-12 col-sm-9 col-md-8 main-content">
      <div><h1><span class="kind-method">openAudioSession</span> method </h1></div>

    <section class="multi-line-signature">
      <span class="returntype"><a href="https://api.flutter.dev/flutter/dart-async/Future-class.html">Future</a><span class="signature">&lt;<wbr><span class="type-parameter"><a href="../../recorder/FlutterSoundRecorder-class.html">FlutterSoundRecorder</a></span>&gt;</span></span>
            <span class="name ">openAudioSession</span>
(<wbr><ol class="parameter-list"><li><span class="parameter" id="openAudioSession-param-focus">{<span class="type-annotation"><a href="../../tau/AudioFocus-class.html">AudioFocus</a></span> <span class="parameter-name">focus</span>: <span class="default-value">AudioFocus.requestFocusTransient</span>, </span></li>
<li><span class="parameter" id="openAudioSession-param-category"><span class="type-annotation"><a href="../../tau/SessionCategory-class.html">SessionCategory</a></span> <span class="parameter-name">category</span>: <span class="default-value">SessionCategory.playAndRecord</span>, </span></li>
<li><span class="parameter" id="openAudioSession-param-mode"><span class="type-annotation"><a href="../../tau/SessionMode-class.html">SessionMode</a></span> <span class="parameter-name">mode</span>: <span class="default-value">SessionMode.modeDefault</span>, </span></li>
<li><span class="parameter" id="openAudioSession-param-audioFlags"><span class="type-annotation"><a href="https://api.flutter.dev/flutter/dart-core/int-class.html">int</a></span> <span class="parameter-name">audioFlags</span>: <span class="default-value">outputToSpeaker</span>, </span></li>
<li><span class="parameter" id="openAudioSession-param-device"><span class="type-annotation"><a href="../../tau/AudioDevice-class.html">AudioDevice</a></span> <span class="parameter-name">device</span>: <span class="default-value">AudioDevice.speaker</span>}</span></li>
</ol>)
      
    </section>
    <section class="desc markdown">
      <p>Open a Recorder</p>
<p>A recorder must be opened before used. A recorder correspond to an Audio Session. With other words, you must <em>open</em> the Audio Session before using it.
When you have finished with a Recorder, you must close it. With other words, you must close your Audio Session.
Opening a recorder takes resources inside the OS. Those resources are freed with the verb <code>closeAudioSession()</code>.</p>
<p>You MUST ensure that the recorder has been closed when your widget is detached from the UI.
Overload your widget's <code>dispose()</code> method to close the recorder when your widget is disposed.
In this way you will reset the player and clean up the device resources, but the recorder will be no longer usable.</p>
<pre class="language-dart"><code class="language-dart">@override
void dispose()
{
        if (myRecorder != null)
        {
            myRecorder.closeAudioSession();
            myPlayer = null;
        }
        super.dispose();
}
</code></pre>
<p>You may not openAudioSession many recorders without releasing them.</p>
<p><code>openAudioSession()</code> and <code>closeAudioSession()</code> return Futures. You may not use your Recorder before the end of the initialization. So probably you will <code>await</code> the result of <code>openAudioSession()</code>. This result is the Recorder itself, so that you can collapse instanciation and initialization together with <code>myRecorder = await FlutterSoundPlayer().openAudioSession();</code></p>
<p>The four optional parameters are used if you want to control the Audio Focus. Please look to <a href="player.md#openaudiosession-and-closeaudiosession">FlutterSoundPlayer openAudioSession()</a> to understand the meaning of those parameters</p>
<p><em>Example:</em></p>
<pre class="language-dart"><code class="language-dart">    myRecorder = await FlutterSoundRecorder().openAudioSession();

    ...
    (do something with myRecorder)
    ...

    myRecorder.closeAudioSession();
    myRecorder = null;
</code></pre>
    </section>
    
    <section class="summary source-code" id="source">
      <h2><span>Implementation</span></h2>
      <pre class="language-dart"><code class="language-dart">Future&lt;FlutterSoundRecorder&gt; openAudioSession(
    {AudioFocus focus = AudioFocus.requestFocusTransient,
      SessionCategory category = SessionCategory.playAndRecord,
      SessionMode mode = SessionMode.modeDefault,
      int audioFlags = outputToSpeaker,
      AudioDevice device = AudioDevice.speaker}) async {
  if (_isInited == Initialized.fullyInitialized) {
    return this;
  }
  if (_isInited == Initialized.initializationInProgress) {
    throw (_InitializationInProgress());
  }

  _isInited = Initialized.initializationInProgress;

  _setRecorderCallback();
  if (_userStreamSink != null) {
    await _userStreamSink.close();
    _userStreamSink = null;
  }
  FlutterSoundRecorderPlatform.instance.openSession(this);
  await FlutterSoundRecorderPlatform.instance.initializeFlautoRecorder(
    this,
    focus: focus,
    category: category,
    mode: mode,
    audioFlags: audioFlags,
    device: device,
  );

  _isInited = Initialized.fullyInitialized;
  return this;
}</code></pre>
    </section>

  </div> <!-- /.main-content -->

  <div id="dartdoc-sidebar-right" class="col-xs-6 col-sm-6 col-md-2 sidebar sidebar-offcanvas-right">
  </div><!--/.sidebar-offcanvas-->

</main>

<footer>
  <span class="no-break">
    flutter_sound
      6.4.3+37
  </span>

</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="../../static-assets/typeahead.bundle.min.js"></script>
<script src="../../static-assets/highlight.pack.js"></script>
<script src="../../static-assets/URI.js"></script>
<script src="../../static-assets/script.js"></script>


</body>

</html>
