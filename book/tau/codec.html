
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Supported Codecs · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="codec.html" />
    
    
    <link rel="prev" href="getting-started.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">The TAU Project</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="architecture.html">
            
                <a href="architecture.html">
            
                    
                    The τ Architecture
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="getting-started.html">
            
                <a href="getting-started.html">
            
                    
                    Getting Started
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="codec.html">
            
                <a href="codec.html#flutter-sound-codecs">
            
                    
                    Supported Codecs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="codec.html">
            
                <a href="codec.html#raw-pcm-and-wave-files">
            
                    
                    Raw PCM and Wave files
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="codec.html">
            
                <a href="codec.html#recording-or-playing-raw-pcm-int-linerar-16-files">
            
                    
                    Recording or playing Raw PCM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="codec.html">
            
                <a href="codec.html#recording-pcm-16-to-a-dart-stream">
            
                    
                    Recording PCM-16 to a Dart Stream
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="codec.html">
            
                <a href="codec.html#playing-pcm-16-from-a-dart-stream">
            
                    
                    Playing PCM-16 from a Dart Stream
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">API</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="api.html">
            
                <a href="api.html">
            
                    
                    The τ API
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="player.html">
            
                <a href="player.html">
            
                    
                    FlutterSoundPlayer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="recorder.html">
            
                <a href="recorder.html">
            
                    
                    FlutterSoundRecorder
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="helper.html">
            
                <a href="helper.html">
            
                    
                    FlutterSoundHelper
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.4" >
            
                <a target="_blank" href="https://canardoux.github.io/tau/doc/flutter_sound/api/topics/UI%20Widgets-topic.html">
            
                    
                    FlutterSoundUI
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Flutter Sound</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../flutter_sound/">
            
                <a href="../flutter_sound/">
            
                    
                    τ under Flutter
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="../flutter_sound/install.html">
            
                <a href="../flutter_sound/install.html">
            
                    
                    Installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="../flutter_sound/flutter_sound_on_web.html">
            
                <a href="../flutter_sound/flutter_sound_on_web.html">
            
                    
                    Flutter Sound on Flutter Web
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3" >
            
                <a target="_blank" href="https://canardoux.github.io/tau/doc/flutter_sound/web_example/">
            
                    
                    Live Example
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.4" data-path="../flutter_sound/example/example.html">
            
                <a href="../flutter_sound/example/example.html">
            
                    
                    Examples
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.4.1" data-path="../flutter_sound/example/example.html">
            
                <a href="../flutter_sound/example/example.html#demo">
            
                    
                    Demo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.4.2" data-path="../flutter_sound/example/example.html">
            
                <a href="../flutter_sound/example/example.html#widgetuidemo">
            
                    
                    Widget UI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.4.3" data-path="../flutter_sound/example/example.html">
            
                <a href="../flutter_sound/example/example.html#simpleplayback">
            
                    
                    Simple Playback
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.4.4" data-path="../flutter_sound/example/example.html">
            
                <a href="../flutter_sound/example/example.html#simplerecorder">
            
                    
                    Simple Recorder
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.4.5" data-path="../flutter_sound/example/example.html">
            
                <a href="../flutter_sound/example/example.html#recordtostream">
            
                    
                    Record To Stream
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.4.6" data-path="../flutter_sound/example/example.html">
            
                <a href="../flutter_sound/example/example.html#liveplaybackwithoutbackpressure">
            
                    
                    Play From Stream (1)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.4.7" data-path="../flutter_sound/example/example.html">
            
                <a href="../flutter_sound/example/example.html#liveplaybackwithbackpressure">
            
                    
                    Play From Stream (2)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.4.8" data-path="../flutter_sound/example/example.html">
            
                <a href="../flutter_sound/example/example.html#soundeffect">
            
                    
                    Sound Effects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.4.9" data-path="../flutter_sound/example/example.html">
            
                <a href="../flutter_sound/example/example.html#streamloop">
            
                    
                    Stream Loop
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.4.10" data-path="../flutter_sound/example/example.html">
            
                <a href="../flutter_sound/example/example.html#speechtotext">
            
                    
                    Speech To Text
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.5" >
            
                <a target="_blank" href="https://canardoux.github.io/tau/doc/flutter_sound/api/index.html">
            
                    
                    API Reference
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">React Native</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../react_native/">
            
                <a href="../react_native/">
            
                    
                    τ under React Native
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Links</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../CHANGELOG.html">
            
                <a href="../CHANGELOG.html">
            
                    
                    Changelog
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="migration.html">
            
                <a href="migration.html">
            
                    
                    Migration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" >
            
                <a target="_blank" href="https://github.com/Canardoux/tau/issues">
            
                    
                    Problem Report
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="contribution.html">
            
                <a href="contribution.html">
            
                    
                    Contributions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.5" >
            
                <a target="_blank" href="https://github.com/Canardoux/tau">
            
                    
                    Sources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="../LICENSE.html">
            
                <a href="../LICENSE.html">
            
                    
                    License
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Supported Codecs</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="getting-started">Getting Started</h1>
<hr>
<h1 id="flutter-sound-codecs">Flutter Sound Codecs</h1>
<h2 id="on-mobile-os">On mobile OS</h2>
<p>Actually, the following codecs are supported by flutter_sound:</p>
<table>
<thead>
<tr>
<th></th>
<th style="text-align:center">iOS encoder</th>
<th style="text-align:center">iOS decoder</th>
<th style="text-align:center">Android encoder</th>
<th style="text-align:center">Android decoder</th>
</tr>
</thead>
<tbody>
<tr>
<td>AAC ADTS</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x2705; (1)</td>
<td style="text-align:center">&#x2705;</td>
</tr>
<tr>
<td>Opus OGG</td>
<td style="text-align:center">&#x2705; (*)</td>
<td style="text-align:center">&#x2705; (*)</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705; (1)</td>
</tr>
<tr>
<td>Opus CAF</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705; (*) (1)</td>
</tr>
<tr>
<td>MP3</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
</tr>
<tr>
<td>Vorbis OGG</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
</tr>
<tr>
<td>PCM16</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x2705; (1)</td>
<td style="text-align:center">&#x2705;</td>
</tr>
<tr>
<td>PCM Wave</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x2705; (1)</td>
<td style="text-align:center">&#x2705;</td>
</tr>
<tr>
<td>PCM AIFF</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705; (*)</td>
</tr>
<tr>
<td>PCM CAF</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705; (*)</td>
</tr>
<tr>
<td>FLAC</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
</tr>
<tr>
<td>AAC MP4</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x2705; (1)</td>
<td style="text-align:center">&#x2705;</td>
</tr>
<tr>
<td>AMR NB</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705; (1)</td>
<td style="text-align:center">&#x2705;</td>
</tr>
<tr>
<td>AMR WB</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705; (1)</td>
<td style="text-align:center">&#x2705;</td>
</tr>
<tr>
<td>PCM8</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
</tr>
<tr>
<td>PCM F32</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
</tr>
<tr>
<td>PCM WEBM</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
</tr>
<tr>
<td>Opus WEBM</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x2705;</td>
</tr>
<tr>
<td>Vorbis WEBM</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
</tr>
</tbody>
</table>
<p>This table will eventually be upgraded when more codecs will be added.</p>
<ul>
<li><p>&#x2705; (*) : The codec is supported by Flutter Sound, but with a File Format Conversion. This has several drawbacks :</p>
<ul>
<li>Needs FFmpeg. FFmpeg is not included in the LITE flavor of Flutter Sound</li>
<li>Can add some delay before Playing Back the file, or after stopping the recording. This delay can be substancial for very large records.</li>
</ul>
</li>
<li><p>&#x2705; (1) : needs MinSDK &gt;=23</p>
</li>
</ul>
<h2 id="on-web-browsers">On Web browsers</h2>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:center">Chrome encoder</th>
<th style="text-align:center">Chrome decoder</th>
<th style="text-align:center">Firefox encoder</th>
<th style="text-align:center">Firefox decoder</th>
<th style="text-align:center">Webkit encoder (safari)</th>
<th style="text-align:center">Webkit decoder   (Safari)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">AAC ADTS</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
</tr>
<tr>
<td style="text-align:left">Opus OGG</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
</tr>
<tr>
<td style="text-align:left">Opus CAF</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
</tr>
<tr>
<td style="text-align:left">MP3</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
</tr>
<tr>
<td style="text-align:left">Vorbis OGG</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
</tr>
<tr>
<td style="text-align:left">PCM16</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td>(must be verified)</td>
</tr>
<tr>
<td style="text-align:left">PCM Wave</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
</tr>
<tr>
<td style="text-align:left">PCM AIFF</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
</tr>
<tr>
<td style="text-align:left">PCM CAF</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
</tr>
<tr>
<td style="text-align:left">FLAC</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
</tr>
<tr>
<td style="text-align:left">AAC MP4</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
</tr>
<tr>
<td style="text-align:left">AMR NB</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
</tr>
<tr>
<td style="text-align:left">AMR WB</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
</tr>
<tr>
<td style="text-align:left">PCM8</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
</tr>
<tr>
<td style="text-align:left">PCM F32</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
</tr>
<tr>
<td style="text-align:left">PCM WEBM</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
</tr>
<tr>
<td style="text-align:left">Opus WEBM</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
</tr>
<tr>
<td style="text-align:left">Vorbis WEBM</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x2705;</td>
<td style="text-align:center">&#x274C;</td>
<td style="text-align:center">&#x274C;</td>
</tr>
</tbody>
</table>
<ul>
<li>Webkit is bull shit : you cannot record anything with Safari, or even Firefox/Chrome on iOS.</li>
<li>Opus WEBM is a great Codec. It works on everything (mobile and Web Browsers), except Apple</li>
<li>Edge is same as Chrome</li>
</ul>
<hr>
<h1 id="raw-pcm-and-wave-files">Raw PCM and Wave files</h1>
<p>Raw PCM is not an audio format. Raw PCM files store the raw data <strong>without</strong> any envelope.
A simple way for playing a Raw PCM file, is to add a <code>Wave</code> header in front of the data before playing it. To do that, the helper verb <code>pcmToWave()</code> is convenient. You can also call directely the <code>startPlayer()</code> verb. If you do that, do not forget to provide the <code>sampleRate</code> and <code>numChannels</code> parameters.</p>
<p>A Wave file is just PCM data in a specific file format.</p>
<p>The Wave audio file format has a terrible drawback : it cannot be streamed.
The Wave file is considered not valid, until it is closed. During the construction of the Wave file, it is considered as corrupted because the Wave header is still not written.</p>
<p>Note the following limitations in the current Flutter Sound version :</p>
<ul>
<li>The stream is  <code>PCM-Integer Linear 16</code> with just one channel. Actually, Flutter Sound does not manipulate Raw PCM with floating point PCM data nor with more than one audio channel.</li>
<li><code>FlutterSoundHelper duration()</code> does not work with Raw PCM file</li>
<li><code>startPlayer()</code> does not return the record duration.</li>
<li><code>withUI</code> parameter in <code>openAudioSession()</code> is actually incompatible with Raw PCM files.</li>
</ul>
<hr>
<h1 id="recording-or-playing-raw-pcm-int-linerar-16-files">Recording or playing Raw PCM INT-Linerar 16 files</h1>
<p>Please, remember that actually, Flutter Sound does not support Floating Point PCM data, nor records with more that one audio channel.</p>
<p>To record a Raw PCM16 file, you use the regular <code>startRecorder()</code> API verb.
To play a Raw PCM16 file, you can either add a Wave header in front of the file with <code>pcm16ToWave()</code> verb, or call the regular <code>startPlayer()</code> API verb. If you do the later, you must provide the <code>sampleRate</code> and <code>numChannels</code> parameter during the call.
You can look to the simple example provided with Flutter Sound. [TODO]</p>
<p><em>Example</em></p>
<pre><code class="lang-dart">Directory tempDir = <span class="hljs-keyword">await</span> getTemporaryDirectory();
<span class="hljs-built_in">String</span> outputFile = <span class="hljs-string">&apos;<span class="hljs-subst">${tempDir.path}</span>/myFile.pcm&apos;</span>;

<span class="hljs-keyword">await</span> myRecorder.startRecorder
(
    codec: Codec.pcm16,
    toFile: outputFile,
    sampleRate: <span class="hljs-number">16000</span>,
    numChannels: <span class="hljs-number">1</span>,
);

...
myRecorder.stopRecorder();
...

<span class="hljs-keyword">await</span> myPlayer.startPlayer
(
        fromURI: = outputFile,
        codec: Codec.pcm16,
        numChannels: <span class="hljs-number">1</span>,
        sampleRate: <span class="hljs-number">16000</span>, <span class="hljs-comment">// Used only with codec == Codec.pcm16</span>
        whenFinished: (){ <span class="hljs-comment">/* Do something */</span>},

);
</code></pre>
<hr>
<h1 id="recording-pcm-16-to-a-dart-stream">Recording PCM-16 to a Dart Stream</h1>
<p>Please, remember that actually, Flutter Sound does not support Floating Point PCM data, nor records with more that one audio channel.
On Flutter Sound, <strong>Raw PCM is only PCM-LINEAR 16 monophony</strong></p>
<p>This works only with <a href="recorder#openAudioSession-and-closeAudioSession">openAudioSession()</a> and  does not work with <code>openAudioSessionWithUI()</code>.
To record a Live PCM file, when calling the verb <a href="recorder.html#startrecorder">startRecorder()</a>, you specify the parameter <code>toStream:</code> with you Stream sink, instead of the parameter <code>toFile:</code>.
This parameter is a StreamSink that you can listen to, for processing the input data.</p>
<h1 id="notes-">Notes :</h1>
<ul>
<li>This new functionnality needs, at least, an Android SDK &gt;= 21</li>
<li>This new functionnality works better with Android minSdk &gt;= 23, because previous SDK was not able to do UNBLOCKING <code>write</code>.</li>
</ul>
<p><em>Example</em></p>
<p>You can look to the <a href="../example/README.md#recordtostream">simple example</a> provided with Flutter Sound.</p>
<pre><code class="lang-dart">  IOSink outputFile = <span class="hljs-keyword">await</span> createFile();
  StreamController&lt;Food&gt; recordingDataController = StreamController&lt;Food&gt;();
  _mRecordingDataSubscription =
          recordingDataController.stream.listen
            ((Uint8List buffer)
              {
                outputFile.add(buffer);
              }
            );
  <span class="hljs-keyword">await</span> _mRecorder.startRecorder(
        toStream: recordingDataController.sink,
        codec: Codec.pcm16,
        numChannels: <span class="hljs-number">1</span>,
        sampleRate: <span class="hljs-number">48000</span>,
  );
</code></pre>
<hr>
<h1 id="playing-pcm-16-from-a-dart-stream">Playing PCM-16 from a Dart Stream</h1>
<p>Please, remember that actually, Flutter Sound does not support Floating Point PCM data, nor records with more that one audio channel.</p>
<p>This works only with <a href="player.html#openaudiosession-and-closeaudiosession">openAudioSession</a> and does not work with <code>openAudioSessionWithUI()</code>.
To play live stream, you start playing with the verb <a href="player.html#startplayerfromstream">startPlayerFromStream</a> instead of the regular <code>startPlayer()</code> verb:</p>
<pre><code>await myPlayer.startPlayerFromStream
(
    codec: Codec.pcm16 // Actually this is the only codec possible
    numChannels: 1 // Actually this is the only value possible. You cannot have several channels.
    sampleRate: 48100 // This parameter is very important if you want to specify your own sample rate
);
</code></pre><p>The first thing you have to do if you want to play live audio is to answer this question:
<code>Do I need back pressure from Flutter Sound, or not</code>?</p>
<h3 id="without-back-pressure">Without back pressure,</h3>
<p>The App does just <a href="player.html#food">myPlayer.foodSink.add( FoodData(aBuffer) )</a> each time it wants to play some data.
No need to await, no need to verify if the previous buffers have finished to be played.
All the buffers added to <code>foodSink</code> are buffered, an are played sequentially. The App continues to work without knowing when the buffers are really played.</p>
<p>This means two things :</p>
<ul>
<li>If the App is very fast adding buffers to <code>foodSink</code> it can consume a lot of memory for the waiting buffers.</li>
<li>When the App has finished feeding the sink, it cannot just do <code>myPlayer.stopPlayer()</code>, because there is perhaps many buffers not yet played.
If it does a <code>stopPlayer()</code>, all the waiting buffers will be flushed which is probably not what it wants.</li>
</ul>
<p>But there is a mechanism if the App wants to resynchronize with the output Stream. To resynchronize with the current playback, the App does <a href="player.html#food">myPlayer.foodSink.add( FoodEvent(aCallback) );</a></p>
<pre><code>myPlayer.foodSink.add
( FoodEvent
  (
     () async
     {
          await myPlayer.stopPlayer();
          setState((){});
     }
  )
);
</code></pre><p><em>Example:</em></p>
<p>You can look to this simple <a href="../example/README.md#liveplaybackwithoutbackpressure">example</a> provided with Flutter Sound.</p>
<pre><code class="lang-dart"><span class="hljs-keyword">await</span> myPlayer.startPlayerFromStream(codec: Codec.pcm16, numChannels: <span class="hljs-number">1</span>, sampleRate: <span class="hljs-number">48000</span>);

myPlayer.foodSink.add(FoodData(aBuffer));
myPlayer.foodSink.add(FoodData(anotherBuffer));
myPlayer.foodSink.add(FoodData(myOtherBuffer));

myPlayer.foodSink.add(FoodEvent((){_mPlayer.stopPlayer();}));
</code></pre>
<h3 id="with-back-pressure">With back pressure</h3>
<p>If the App wants to keep synchronization with what is played, it uses the verb <a href="player.html#feedfromstream">feedFromStream</a> to play data.
It is really very important not to call another <code>feedFromStream()</code> before the completion of the previous future. When each Future is completed, the App can be sure that the provided data are correctely either played, or at least put in low level internal buffers, and it knows that it is safe to do another one.</p>
<p><em>Example:</em></p>
<p>You can look to this <a href="../flutter_sound/example/example.html#liveplaybackwithbackpressure">example</a> and <a href="../flutter_sound/example/example.html#soundeffect">this example</a></p>
<pre><code>await myPlayer.startPlayerFromStream(codec: Codec.pcm16, numChannels: 1, sampleRate: 48000);

await myPlayer.feedFromStream(aBuffer);
await myPlayer.feedFromStream(anotherBuffer);
await myPlayer.feedFromStream(myOtherBuffer);

await myPlayer.stopPlayer();
</code></pre><p>You probably will <code>await</code> or use <code>then()</code> for each call to <code>feedFromStream()</code>.</p>
<h3 id="notes-">Notes :</h3>
<ul>
<li>This new functionnality needs, at least, an Android SDK &gt;= 21</li>
<li>This new functionnality works better with Android minSdk &gt;= 23, because previous SDK was not able to do UNBLOCKING <code>write</code>.</li>
</ul>
<p><em>Examples</em>
You can look to the  provided examples :</p>
<ul>
<li><a href="../flutter_sound/example/example.html#liveplaybackwithbackpressure">This example</a> shows how to play Live data, with Back Pressure from Flutter Sound</li>
<li><a href="../flutter_sound/example/example.html#liveplaybackwithoutbackpressure">This example</a> shows how to play Live data, without Back Pressure from Flutter Sound</li>
<li><a href="../flutter_sound/example/example.html#soundeffect">This example</a> shows how to play some real time sound effects.</li>
<li><a href="../flutter_sound/example/example.html#streamloop">This example</a> play live stream what is recorded from the microphone.</li>
</ul>
<hr>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="getting-started.html" class="navigation navigation-prev " aria-label="Previous page: Getting Started">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="codec.html#raw-pcm-and-wave-files" class="navigation navigation-next " aria-label="Next page: Raw PCM and Wave files">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Supported Codecs","level":"1.3.1","depth":2,"next":{"title":"Raw PCM and Wave files","level":"1.3.2","depth":2,"anchor":"#raw-pcm-and-wave-files","path":"tau/codec.md","ref":"tau/codec.md#raw-pcm-and-wave-files","articles":[]},"previous":{"title":"Getting Started","level":"1.3","depth":1,"path":"tau/getting-started.md","ref":"tau/getting-started.md","articles":[{"title":"Supported Codecs","level":"1.3.1","depth":2,"anchor":"#flutter-sound-codecs","path":"tau/codec.md","ref":"tau/codec.md#flutter-sound-codecs","articles":[]},{"title":"Raw PCM and Wave files","level":"1.3.2","depth":2,"anchor":"#raw-pcm-and-wave-files","path":"tau/codec.md","ref":"tau/codec.md#raw-pcm-and-wave-files","articles":[]},{"title":"Recording or playing Raw PCM","level":"1.3.3","depth":2,"anchor":"#recording-or-playing-raw-pcm-int-linerar-16-files","path":"tau/codec.md","ref":"tau/codec.md#recording-or-playing-raw-pcm-int-linerar-16-files","articles":[]},{"title":"Recording PCM-16 to a Dart Stream","level":"1.3.4","depth":2,"anchor":"#recording-pcm-16-to-a-dart-stream","path":"tau/codec.md","ref":"tau/codec.md#recording-pcm-16-to-a-dart-stream","articles":[]},{"title":"Playing PCM-16 from a Dart Stream","level":"1.3.5","depth":2,"anchor":"#playing-pcm-16-from-a-dart-stream","path":"tau/codec.md","ref":"tau/codec.md#playing-pcm-16-from-a-dart-stream","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"tau/codec.md","mtime":"2020-11-25T17:29:03.790Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-11-26T17:16:00.674Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

