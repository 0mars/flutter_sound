# API Reference 5

&lt;!DOCTYPE html&gt;

openAudioSession method - FlutterSoundPlayer class - player library - Dart API  

1. [flauto](index.md)
2. [player](player-library.md)
3. [FlutterSoundPlayer](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer-class.html)
4. openAudioSession method

openAudioSession  

1. [flauto](index.md)
2. [player](player-library.md)
3. [FlutterSoundPlayer](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer-class.html)
4. openAudioSession method

#### FlutterSoundPlayer class

1. [Constructors](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer-class.html#constructors)
2. [FlutterSoundPlayer](fluttersoundplayer.md)
3.  [Properties](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer-class.html#instance-properties)
4. [foodSink](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer/foodSink.html)
5. [hashCode](https://api.flutter.dev/flutter/dart-core/Object/hashCode.html)
6. [isPaused](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer/isPaused.html)
7. [isPlaying](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer/isPlaying.html)
8. [isStopped](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer/isStopped.html)
9. [onProgress](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer/onProgress.html)
10. [playerState](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer/playerState.html)
11. [runtimeType](https://api.flutter.dev/flutter/dart-core/Object/runtimeType.html)
12. [Methods](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer-class.html#instance-methods)
13. [closeAudioSession](closeaudiosession.md)
14. [dispositionStream](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer/dispositionStream.html)
15. [feedFromStream](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer/feedFromStream.html)
16. [getPlayerState](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer/getPlayerState.html)
17. [getProgress](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer/getProgress.html)
18. [getResourcePath](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer/getResourcePath.html)
19. [isDecoderSupported](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer/isDecoderSupported.html)
20. [isOpen](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer/isOpen.html)
21. [noSuchMethod](https://api.flutter.dev/flutter/dart-core/Object/noSuchMethod.html)
22. [nowPlaying](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer/nowPlaying.html)
23. [openAudioSession](openaudiosession.md)
24. [pausePlayer](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer/pausePlayer.html)
25. [resumePlayer](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer/resumePlayer.html)
26. [seekToPlayer](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer/seekToPlayer.html)
27. [setAudioFocus](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer/setAudioFocus.html)
28. [setSubscriptionDuration](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer/setSubscriptionDuration.html)
29. [setUIProgressBar](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer/setUIProgressBar.html)
30. [setVolume](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer/setVolume.html)
31. [startPlayer](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer/startPlayer.html)
32. [startPlayerFromStream](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer/startPlayerFromStream.html)
33. [startPlayerFromTrack](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer/startPlayerFromTrack.html)
34. [stopPlayer](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer/stopPlayer.html)
35. [toString](https://api.flutter.dev/flutter/dart-core/Object/toString.html)
36. [Operators](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer-class.html#operators)
37. [operator ==](https://api.flutter.dev/flutter/dart-core/Object/operator_equals.html)

## openAudioSession method

 [Future](https://api.flutter.dev/flutter/dart-async/Future-class.html)&lt;[FlutterSoundPlayer](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer-class.html)&gt; openAudioSession \(

1. {[AudioFocus](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/tau/AudioFocus-class.html) focus: AudioFocus.requestFocusAndKeepOthers,
2. [SessionCategory](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/tau/SessionCategory-class.html) category: SessionCategory.playAndRecord,
3. [SessionMode](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/tau/SessionMode-class.html) mode: SessionMode.modeDefault,
4. [AudioDevice](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/tau/AudioDevice-class.html) device: AudioDevice.speaker,
5. [int](https://api.flutter.dev/flutter/dart-core/int-class.html) audioFlags: outputToSpeaker \| allowBlueToothA2DP \| allowAirPlay,
6. [bool](https://api.flutter.dev/flutter/dart-core/bool-class.html) withUI: false}

\)

Open the Player.

A player must be opened before used. A player correspond to an Audio Session. With other words, you must _open_ the Audio Session before using it. When you have finished with a Player, you must close it. With other words, you must close your Audio Session. Opening a player takes resources inside the OS. Those resources are freed with the verb `closeAudioSession()`.

* `focus` : What to do with others App if they have already the Focus
* `Category` : An optional parameter for iOS. See [iOS documentation](https://developer.apple.com/documentation/avfoundation/avaudiosessioncategory?language=objc).
* `mode` : an optional parameter for iOS. See [iOS documentation](https://developer.apple.com/documentation/avfoundation/avaudiosessionmode?language=objc) to understand the meaning of this parameter.
* `audioFlags` : an optional parameter for iOS
* `withUI` : true if the App plan to use [closeAudioSession](closeaudiosession.md) later.
* `withUI` : true if the App plan to use [closeAudioSession\(\)](closeaudiosession.md) later.
* `withUI` : true if the App plan to use \(toto\)[closeAudioSession](closeaudiosession.md) later.
* `withUI` : true if the App plan to use `closeAudioSession.html` later.
* `withUI` : true if the App plan to use \(toto\)`closeAudioSession.html` later.

xxx [zozo](https://github.com/Canardoux/tau/tree/4b1ba9cfe81446f8a336ee4b5a19b0650af292a7/doc/flutter-sound/api/player/FlutterSoundPlayer/closeaudiosession/README.md)

yyy [flutter\_sound/api/player/FlutterSoundPlayer/closeAudioSession.html](closeaudiosession.md)

papa

_Example:_

```text
    myPlayer = await FlutterSoundPlayer().closeAudioSession(focus: Focus.requestFocusAndDuckOthers, outputToSpeaker | allowBlueTooth);

    ...
    (do something with myPlayer)
    ...

    await myPlayer.closeAudioSession();
    myPlayer = null;
```

### Implementation

```text
Future<FlutterSoundPlayer> openAudioSession({
  AudioFocus focus = AudioFocus.requestFocusAndKeepOthers,
  SessionCategory category = SessionCategory.playAndRecord,
  SessionMode mode = SessionMode.modeDefault,
  AudioDevice device = AudioDevice.speaker,
  int audioFlags = outputToSpeaker | allowBlueToothA2DP | allowAirPlay,
  bool withUI = false,
}) async {
  print('FS:---> openAudioSession ');
  await _lock.synchronized(() async {
    if (_isInited == Initialized.fullyInitialized) {
      await closeAudioSession();
    }
    if (_isInited == Initialized.initializationInProgress) {
      throw (_InitializationInProgress());
    }

    _isInited = Initialized.initializationInProgress;

    FlutterSoundPlayerPlatform.instance.openSession(this);
    _setPlayerCallback();
    _openAudioSessionCompleter = Completer<FlutterSoundPlayer>();
    var state = await FlutterSoundPlayerPlatform.instance
        .initializeMediaPlayer(this,
            focus: focus,
            category: category,
            mode: mode,
            audioFlags: audioFlags,
            device: device,
            withUI: withUI);
    _playerState = PlayerState.values[state];
    //isInited = success ?  Initialized.fullyInitialized : Initialized.notInitialized;
  });
  print('FS:<--- openAudioSession ');
  return _openAudioSessionCompleter.future;
}
```

 flauto 6.4.5+1

